<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arjawa | Minimalist</title>
    
 
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;700;900&family=Nosifer&family=Rubik+Glitch&family=Syne:wght@800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        display: ['Syne', 'sans-serif'],
                        horror: ['Nosifer', 'cursive'],
                        glitch: ['Rubik Glitch', 'system-ui'],
                    },
                    colors: {
                        'void': '#050505',
                        'paper': '#f4f4f5',
                        'blood': '#8a0303',
                        'rust': '#4a0404',
                    },
                    animation: {
                        'shiver': 'shiver 0.2s infinite',
                    },
                    keyframes: {
                        shiver: {
                            '0%, 100%': { transform: 'translate(0, 0)' },
                            '25%': { transform: 'translate(1px, 1px)' },
                            '50%': { transform: 'translate(-1px, -1px)' },
                            '75%': { transform: 'translate(-1px, 1px)' },
                        }
                    }
                }
            }
        }
    </script>

    <style>
        /* --- CLEAN MODE (DEFAULT) --- */
        :root {
            --bg-color: #ffffff;
            --text-color: #121212;
            --card-bg: #ffffff;
            --border-color: #121212;
            --accent-hover: #000000;
        }

        /* --- HORROR MODE VARIABLES --- */
        body.horror {
            --bg-color: #0a0505;
            --text-color: #a8a8a8;
            --card-bg: #120808;
            --border-color: #4a0404;
            cursor: crosshair;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            font-family: 'Inter', sans-serif;
            overflow-x: hidden;
        }

        /* Bento Card Styles */
        .bento-card {
            background: var(--card-bg);
            border: 2px solid var(--border-color);
            transition: all 0.3s ease;
            position: relative;
            /* PENTING: Overflow hidden supaya darah tidak bocor keluar kotak */
            overflow: hidden; 
            z-index: 10;
        }

        /* --- Clean Mode Interactions --- */
        body:not(.horror) .bento-card:hover {
            transform: translate(-4px, -4px);
            box-shadow: 6px 6px 0px var(--border-color);
        }

        body:not(.horror) .btn-action {
            background: black;
            color: white;
            border-radius: 99px;
            transition: transform 0.2s;
        }
        
        body:not(.horror) .btn-action:active {
            transform: scale(0.95);
        }

        /* --- Horror Mode Effects --- */
        body.horror .bento-card {
            border-radius: 2px;
            box-shadow: 0 0 15px rgba(138, 3, 3, 0.2);
            background-image: url("https://www.transparenttextures.com/patterns/black-felt.png");
        }

        body.horror .bento-card:hover {
            animation: shiver 0.3s infinite;
            border-color: #ff0000;
        }

        body.horror h1, body.horror h2, body.horror .glitch-text {
            font-family: 'Nosifer', cursive;
            color: #8a0303;
            text-shadow: 2px 2px 0px black;
        }

        body.horror .normal-text {
            font-family: 'Rubik Glitch', system-ui;
            letter-spacing: 2px;
        }

        /* --- RED PULSE ANIMATION FOR AVATAR --- */
        @keyframes pulse-horror-red {
            0% { box-shadow: 0 0 0 0 rgba(220, 38, 38, 0.7); border-color: #8a0303; }
            70% { box-shadow: 0 0 20px 10px rgba(220, 38, 38, 0); border-color: #ff0000; }
            100% { box-shadow: 0 0 0 0 rgba(220, 38, 38, 0); border-color: #8a0303; }
        }

        body.horror .avatar-border {
            animation: pulse-horror-red 2s infinite;
            border-width: 3px !important;
        }

        /* Noise Overlay */
        .noise-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none; opacity: 0; z-index: 50;
            background: url('https://media.giphy.com/media/oEI9uBYSzLpBK/giphy.gif'); 
            mix-blend-mode: overlay;
            transition: opacity 1s;
        }
        body.horror .noise-overlay { opacity: 0.15; }

        /* Canvas for FALLING blood only */
        #blood-canvas {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none; z-index: 99;
        }

        /* CSS Class untuk Bercak Darah yang menempel (DOM Elements) */
        .blood-splat {
            position: absolute;
            pointer-events: none;
            z-index: 0; /* Di belakang teks konten */
            opacity: 0.9;
            transform: scale(0);
            animation: splat-appear 0.2s forwards cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        @keyframes splat-appear {
            to { transform: scale(1); }
        }

        .vignette {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            box-shadow: inset 0 0 150px rgba(0,0,0,0.9);
            pointer-events: none; opacity: 0; transition: opacity 1s; z-index: 40;
        }
        body.horror .vignette { opacity: 1; }

        body.horror img {
            filter: grayscale(100%) contrast(150%) brightness(0.6);
            transition: 0.5s;
        }
        body.horror img:hover {
            filter: invert(100%);
        }

        .hidden-msg { opacity: 0; transition: opacity 0.3s; position: absolute; font-size: 0.8rem; color: red; font-family: 'Nosifer'; }
        body.horror .hidden-msg { opacity: 0.6; }

    </style>
</head>
<body class="p-4 md:p-8 min-h-screen flex items-center justify-center selection:bg-black selection:text-white horror:selection:bg-red-900">

    <div class="noise-overlay"></div>
    <div class="vignette"></div>
    <canvas id="blood-canvas"></canvas>

    <main class="w-full max-w-7xl mx-auto grid grid-cols-2 md:grid-cols-4 auto-rows-auto md:auto-rows-[180px] gap-4 relative z-20">

        <div id="profile-card" class="bento-card col-span-2 md:col-span-2 md:row-span-2 p-6 md:p-8 flex flex-col justify-between group">
            <div class="flex justify-between items-start z-10 relative">
                <div>
                    <div class="inline-block px-3 py-1 border border-black text-xs font-bold uppercase tracking-wider mb-4 horror:border-red-800 horror:text-red-800 transition-colors" id="status-badge">
                        Open To Work
                    </div>
                    <h1 class="text-4xl md:text-6xl font-black tracking-tighter mb-2 font-display uppercase" id="name-title">
                        Arjawa
                    </h1>
                    <p class="text-gray-500 text-lg md:text-xl horror:text-red-900 font-bold normal-text">
                        Web Developer & <br>Japanese Learner.
                    </p>
                </div>
                
                <div class="relative w-24 h-24 cursor-pointer z-30" id="avatar-container" onclick="toggleHorrorMode()">
                    <div class="avatar-border absolute inset-0 border-2 border-black rounded-full overflow-hidden hover:scale-105 transition-all horror:rounded-none">
                        <img src="https://api.dicebear.com/9.x/avataaars/svg?seed=Felix" alt="Avatar" class="w-full h-full object-cover">
                    </div>
                    <div class="hidden-msg -bottom-6 -left-4 w-40 text-center">JANGAN KLIK</div>
                </div>
            </div>

            <div class="mt-8 md:mt-0 z-10 relative">
                <p class="text-sm md:text-base text-gray-600 leading-relaxed max-w-md horror:text-gray-400 normal-text">
                    Menciptakan logika di atas kanvas digital. Menulis kode, membaca kanji.
                </p>
                <div class="flex gap-4 mt-6">
                    <a href="https://github.com/arjawa123" target="_blank" class="btn-action px-6 py-2 text-sm font-bold border border-black hover:bg-transparent hover:text-black horror:bg-red-900 horror:border-none horror:text-black">
                        GITHUB
                    </a>
                    <a href="#projects" class="btn-action px-6 py-2 text-sm font-bold bg-transparent text-black border border-black hover:bg-black hover:text-white horror:text-red-600 horror:border-red-600 horror:hover:bg-red-900">
                        PROJECTS
                    </a>
                </div>
            </div>
        </div>

        <div class="bento-card col-span-2 md:col-span-1 md:row-span-2 relative group flex flex-col items-center justify-center cursor-pointer bg-gray-50 horror:bg-black" onclick="triggerGlobalBlood()">
            <div class="absolute top-2 left-2 text-xs font-bold text-gray-300 horror:text-red-900 z-10">TARGET</div>
            <div class="z-10 flex flex-col items-center">
                <i class="fas fa-bullseye text-4xl mb-4 text-gray-300 group-hover:text-black transition-colors horror:text-red-800 horror:group-hover:text-red-500"></i>
                <div class="text-6xl font-black font-display group-hover:scale-110 transition-transform duration-300 select-none" id="jlpt-level">N3</div>
                <div class="text-xs uppercase tracking-[0.3em] mt-2 group-hover:tracking-[0.5em] transition-all horror:text-red-700">Level</div>
            </div>
            <div class="hidden-msg top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-2xl rotate-45">SAKIT</div>
        </div>

        <div class="bento-card col-span-1 md:col-span-1 md:row-span-1 p-4 flex flex-col items-center justify-center text-center hover:invert transition duration-500">
            <div class="z-10 flex flex-col items-center">
                <i class="fas fa-map-marker-alt text-2xl mb-2"></i>
                <h3 class="font-bold text-sm uppercase">Indonesia</h3>
                <p class="text-xs text-gray-400">WITA Timezone</p>
            </div>
        </div>

        <div class="bento-card col-span-1 md:col-span-1 md:row-span-1 flex flex-col">
            <a href="#" class="flex-1 flex items-center justify-between px-6 hover:bg-black hover:text-white transition z-10 relative horror:hover:bg-red-900">
                <span class="font-bold text-xs"><i class="fab fa-linkedin mr-2"></i> LINKEDIN</span>
                <i class="fas fa-arrow-right text-xs -rotate-45 group-hover:rotate-0"></i>
            </a>
            <div class="h-[2px] bg-black w-full horror:bg-red-900 z-10"></div>
            <a href="#" class="flex-1 flex items-center justify-between px-6 hover:bg-black hover:text-white transition z-10 relative horror:hover:bg-red-900">
                <span class="font-bold text-xs"><i class="fab fa-instagram mr-2"></i> INSTAGRAM</span>
                <i class="fas fa-arrow-right text-xs -rotate-45"></i>
            </a>
        </div>

        <div class="bento-card col-span-2 md:col-span-2 md:row-span-1 p-6 flex items-center justify-between overflow-hidden group">
            <div class="z-10 relative">
                <div class="flex items-center gap-2 mb-2">
                    <span class="w-2 h-2 bg-black rounded-full horror:bg-red-600 animate-pulse"></span>
                    <span class="text-[10px] font-bold uppercase tracking-wider">Hobby</span>
                </div>
                <h3 class="text-xl font-bold horror:text-red-800">Anime & Gaming</h3>
                <p class="text-xs text-gray-500 horror:text-gray-600">HSR / Genshin Impact</p>
            </div>
            <div class="text-8xl opacity-5 group-hover:opacity-20 group-hover:rotate-12 transition duration-500 horror:text-red-600 z-10"><i class="fas fa-ghost"></i></div>
            <div class="hidden-msg right-10 top-10">LARI</div>
        </div>

        <div class="bento-card col-span-2 md:col-span-2 md:row-span-1 p-6 flex flex-col justify-center">
            <h3 class="text-xs uppercase text-gray-400 mb-4 tracking-wider font-bold z-10 relative">Tech Arsenal //</h3>
            <div class="flex flex-wrap gap-2 z-10 relative" id="tech-stack">
                <span class="px-3 py-1 border border-gray-200 text-xs font-bold hover:bg-black hover:text-white transition cursor-help horror:border-red-900 horror:text-red-900 bg-white/50 horror:bg-black/50">JavaScript</span>
                <span class="px-3 py-1 border border-gray-200 text-xs font-bold hover:bg-black hover:text-white transition cursor-help horror:border-red-900 horror:text-red-900 bg-white/50 horror:bg-black/50">CSS3</span>
                <span class="px-3 py-1 border border-gray-200 text-xs font-bold hover:bg-black hover:text-white transition cursor-help horror:border-red-900 horror:text-red-900 bg-white/50 horror:bg-black/50">Node.js</span>
                <span class="px-3 py-1 border border-gray-200 text-xs font-bold hover:bg-black hover:text-white transition cursor-help horror:border-red-900 horror:text-red-900 bg-white/50 horror:bg-black/50">Kuromoji</span>
            </div>
        </div>

        <div class="bento-card col-span-2 md:col-span-2 md:row-span-1 p-6 group hover:bg-black hover:text-white transition-colors duration-300 horror:hover:bg-red-950">
            <div class="flex justify-between items-start z-10 relative">
                <div>
                    <h2 class="text-2xl font-bold font-display group-hover:translate-x-2 transition-transform">JMDict Analyser</h2>
                    <p class="text-sm text-gray-500 group-hover:text-gray-300 mt-2 horror:text-red-300">Bedah kalimat bahasa Jepang. Analisis morfologi.</p>
                </div>
                <i class="fas fa-arrow-up text-xl rotate-45 group-hover:rotate-90 transition-transform"></i>
            </div>
        </div>
        
        <div class="bento-card col-span-1 md:col-span-1 md:row-span-1 p-5 flex flex-col justify-between group">
            <div class="w-8 h-8 bg-black text-white flex items-center justify-center text-xs font-bold horror:bg-red-900 z-10 relative">JFT</div>
            <div class="z-10 relative"><h2 class="font-bold text-sm">Simulasi JFT</h2><div class="w-0 group-hover:w-full h-[2px] bg-black mt-1 transition-all duration-300 horror:bg-red-600"></div></div>
        </div>
        <div class="bento-card col-span-1 md:col-span-1 md:row-span-1 p-5 flex flex-col justify-between group">
            <div class="w-8 h-8 border border-black flex items-center justify-center text-xs font-bold horror:border-red-900 horror:text-red-900 z-10 relative">K</div>
            <div class="z-10 relative"><h2 class="font-bold text-sm">Kaiwa Cards</h2><div class="w-0 group-hover:w-full h-[2px] bg-black mt-1 transition-all duration-300 horror:bg-red-600"></div></div>
        </div>

    </main>

    <script>
        const body = document.body;
        const nameTitle = document.getElementById('name-title');
        const statusBadge = document.getElementById('status-badge');
        const jlptLevel = document.getElementById('jlpt-level');
        const canvas = document.getElementById('blood-canvas');
        const ctx = canvas.getContext('2d');
        const avatarContainer = document.getElementById('avatar-container');
        const profileCard = document.getElementById('profile-card');

        // Ambil semua element Bento Card untuk deteksi tabrakan
        const bentoCards = document.querySelectorAll('.bento-card');

        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
        window.addEventListener('resize', resizeCanvas);
        resizeCanvas();

        let globalDrops = []; 
        let isLooping = false;
        let avatarBloodInterval;

        // --- 1. RAIN SYSTEM (TRIGGERED BY TARGET) ---
        function triggerGlobalBlood() {
            // Curah hujan cukup deras
            for(let i=0; i<20; i++) {
                globalDrops.push({
                    x: Math.random() * canvas.width,
                    y: -50 - (Math.random() * 200), 
                    speed: 12 + Math.random() * 10, // Sangat cepat
                    width: 2 + Math.random() * 3,
                    length: 20 + Math.random() * 10,
                    color: body.classList.contains('horror') ? '#4a0000' : '#cc0000'
                });
            }
            if(!isLooping) animateBlood();
        }

        // --- 2. STICKY SPLAT SYSTEM (DOM) ---
        // Fungsi ini membuat div baru di DALAM elemen target
        function createStickySplat(targetElement, screenX, screenY) {
            const rect = targetElement.getBoundingClientRect();
            
            // Hitung posisi relatif terhadap element (agar ikut scroll)
            const relativeX = screenX - rect.left;
            const relativeY = screenY - rect.top;

            // Jangan buat jika di luar batas elemen (safety check)
            if(relativeX < 0 || relativeX > rect.width || relativeY < 0 || relativeY > rect.height) return;

            // Limit jumlah bercak per kartu agar tidak nge-lag
            const existingSplats = targetElement.querySelectorAll('.blood-splat');
            if(existingSplats.length > 40) {
                existingSplats[0].remove(); // Hapus yang terlama
            }

            const splat = document.createElement('div');
            splat.classList.add('blood-splat');
            
            // Random ukuran dan rotasi
            const size = 20 + Math.random() * 60;
            const rotation = Math.random() * 360;
            const color = body.classList.contains('horror') ? '#4a0000' : '#cc0000';
            
            // Bentuk abstrak menggunakan border-radius acak
            const r1 = 30 + Math.random() * 70;
            const r2 = 30 + Math.random() * 70;
            const r3 = 30 + Math.random() * 70;
            const r4 = 30 + Math.random() * 70;
            const borderRadius = `${r1}% ${100-r1}% ${r3}% ${100-r3}% / ${r2}% ${r4}% ${100-r4}% ${100-r2}%`;

            splat.style.width = `${size}px`;
            splat.style.height = `${size}px`;
            splat.style.backgroundColor = color;
            splat.style.left = `${relativeX - (size/2)}px`;
            splat.style.top = `${relativeY - (size/2)}px`;
            splat.style.borderRadius = borderRadius;
            splat.style.transform = `rotate(${rotation}deg) scale(0)`; // Scale dihandle CSS animation

            // Tambahkan efek tetesan kecil di sekitar splat utama (child div)
            const drip = document.createElement('div');
            drip.style.position = 'absolute';
            drip.style.bottom = '-10px';
            drip.style.left = '50%';
            drip.style.width = `${size/4}px`;
            drip.style.height = `${size/2}px`;
            drip.style.background = color;
            drip.style.borderRadius = '50%';
            drip.style.transform = 'translateX(-50%)';
            if(Math.random() > 0.5) splat.appendChild(drip);

            targetElement.appendChild(splat);
        }

        // --- 3. ANIMATION LOOP ---
        function animateBlood() {
            isLooping = true;
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            for (let i = 0; i < globalDrops.length; i++) {
                let d = globalDrops[i];
                
                // Gambar tetesan jatuh
                ctx.fillStyle = d.color;
                ctx.beginPath();
                ctx.rect(d.x, d.y, d.width, d.length);
                ctx.fill();
                
                d.y += d.speed;

                // --- DETEKSI TABRAKAN ---
                let hasHit = false;
                
                // Cek apakah tetesan mengenai salah satu bento card
                // Kita cek setiap kartu
                bentoCards.forEach(card => {
                    if (hasHit) return; // Jika sudah kena satu, skip yang lain

                    const rect = card.getBoundingClientRect();

                    // Logika Tabrakan Sederhana:
                    // Jika koordinat X tetesan ada di dalam lebar kartu
                    // DAN koordinat Y tetesan sudah masuk ke dalam area kartu (dengan margin acak agar tidak semua nempel di atas)
                    if (d.x >= rect.left && d.x <= rect.right && 
                        d.y >= rect.top && d.y <= rect.bottom) {
                        
                        // Berikan kesempatan acak (misal 10%) untuk "menempel" di frame ini
                        // atau jika sudah menyentuh bagian bawah kartu
                        const randomStop = Math.random() < 0.15; // 15% chance stop di tengah jalan
                        const hitBottom = d.y >= (rect.bottom - 20);

                        if (randomStop || hitBottom) {
                            createStickySplat(card, d.x, d.y);
                            hasHit = true;
                        }
                    }
                });

                // Jika nabrak kartu, hapus tetesan dari canvas
                if (hasHit) {
                    globalDrops.splice(i, 1);
                    i--;
                    continue;
                }

                // Jika sampai dasar layar (tidak kena kartu), hapus
                if (d.y > canvas.height) {
                    globalDrops.splice(i, 1);
                    i--;
                }
            }

            if (globalDrops.length > 0) {
                requestAnimationFrame(animateBlood);
            } else {
                isLooping = false;
            }
        }

        // --- TOGGLE MODES & HELPERS ---
        function toggleHorrorMode() {
            body.classList.toggle('horror');
            
            // Update warna splat yang sudah ada saat ganti mode
            const allSplats = document.querySelectorAll('.blood-splat');
            allSplats.forEach(s => {
                s.style.backgroundColor = body.classList.contains('horror') ? '#4a0000' : '#cc0000';
                // Update drips inside splats
                if(s.firstChild) s.firstChild.style.background = body.classList.contains('horror') ? '#4a0000' : '#cc0000';
            });

            if (body.classList.contains('horror')) {
                nameTitle.innerText = "SUBJECT 01";
                statusBadge.innerText = "SOUL TRAPPED";
                jlptLevel.innerText = "DIE";
                document.title = "RUN AWAY...";
                
                // Efek getar
                document.body.style.transform = "translate(5px, 5px)";
                setTimeout(() => document.body.style.transform = "translate(-5px, -5px)", 50);
                setTimeout(() => document.body.style.transform = "translate(0, 0)", 100);

            } else {
                nameTitle.innerText = "ARJAWA";
                statusBadge.innerText = "OPEN TO WORK";
                jlptLevel.innerText = "N3";
                document.title = "Arjawa | Minimalist";
            }
        }

        // Hover Easter Eggs
        const stackItems = document.querySelectorAll('#tech-stack span');
        const funColors = ['#ff00ff', '#00ffff', '#ffff00', '#39ff14'];
        stackItems.forEach(item => {
            item.addEventListener('mouseenter', () => {
                if (!body.classList.contains('horror')) {
                    const randomColor = funColors[Math.floor(Math.random() * funColors.length)];
                    item.style.borderColor = randomColor;
                    item.style.color = randomColor;
                    item.style.transform = `rotate(${Math.random() * 10 - 5}deg)`;
                }
            });
            item.addEventListener('mouseleave', () => {
                item.style.borderColor = ''; item.style.color = ''; item.style.transform = '';
            });
        });

        const secretCode = ['ArrowUp', 'ArrowUp', 'ArrowDown', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'ArrowLeft', 'ArrowRight', 'b', 'a'];
        let codePosition = 0;
        document.addEventListener('keydown', (e) => {
            if (e.key === secretCode[codePosition]) {
                codePosition++;
                if (codePosition === secretCode.length) {
                    triggerGlobalBlood();
                    if (!body.classList.contains('horror')) toggleHorrorMode();
                    codePosition = 0;
                }
            } else { codePosition = 0; }
        });
    </script>
</body>
</html>
